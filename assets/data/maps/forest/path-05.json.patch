[
    { "type": "ENTER", "index": [ "entities" ] },
    {
        "type": "ENTER",
        "index": [ 849, "settings", "npcStates" ]
    },
    {
        "_comment": "Make golden bug its own quest",
        "type": "SET_KEY",
        "index": 0,
        "content": { "reactType": "FIXED_POS", "face": "SOUTH_WEST", "permaFx": { "sheet": "npc", "name": "bugLight" }, "hidden": false, "condition": "!quest.bug-hunting-wave.started", "config": "normal", "event": { "quest": [ { "entity": { "party": "Member2" }, "action": [ { "target": { "x": 416, "y": 1712, "lvl": "1" }, "maxTime": 0, "distance": 0, "precise": false, "planOnly": false, "teleportOnFail": false, "type": "NAVIGATE_TO_POINT" }, { "entity": { "global": true, "name": "bug" }, "rotate": true, "rotateSpeed": 3, "type": "SET_FACE_TO_ENTITY" } ], "repeating": false, "wait": false, "keepState": false, "immediately": false, "type": "DO_ACTION" }, { "entity": { "party": "Member3" }, "action": [ { "target": { "x": 460, "y": 1756, "lvl": "1" }, "maxTime": 0, "distance": 0, "precise": false, "planOnly": false, "teleportOnFail": false, "type": "NAVIGATE_TO_POINT" }, { "entity": { "global": true, "name": "bug" }, "rotate": true, "rotateSpeed": 3, "type": "SET_FACE_TO_ENTITY" } ], "repeating": false, "wait": false, "keepState": false, "immediately": false, "type": "DO_ACTION" }, { "entity": { "player": true }, "action": [ { "target": { "x": 452, "y": 1728, "lvl": "1" }, "maxTime": 0, "distance": 0, "precise": false, "planOnly": false, "teleportOnFail": false, "type": "NAVIGATE_TO_POINT" }, { "entity": { "global": true, "name": "bug" }, "rotate": true, "rotateSpeed": 3, "type": "SET_FACE_TO_ENTITY" } ], "repeating": false, "wait": true, "keepState": false, "immediately": false, "type": "DO_ACTION" }, { "entity": { "global": true, "name": "bug" }, "action": [ { "entity": { "player": true }, "rotate": true, "rotateSpeed": 3, "type": "SET_FACE_TO_ENTITY" } ], "repeating": false, "wait": true, "keepState": false, "immediately": false, "type": "DO_ACTION" }, { "entity": { "global": true, "name": "bug" }, "duration": -1, "align": "CENTER", "group": "light", "wait": false, "waitSkip": 0, "type": "SHOW_EFFECT", "effect": { "sheet": "npc", "name": "darken" }, "offset": { "x": 0, "y": 0, "z": 0 } }, { "text": { "en_US": "...A Trial it is you seek, and a trial you shall receive... ", "langUid": 2, "ja_JP": "...これはお前が探し求め、そして受けるべき試練...<<A<<[CHANGED 2018/05/01]", "ko_KR": "...당신이 원하는 건 시험, 그러면 시험을 받을 것입니다...<<A<<[CHANGED 2018/05/01]", "zh_CN": "...寻找试炼，接受试炼...<<A<<[CHANGED 2018/05/01]", "de_DE": "... Du willst dich also prüfen lassen, so wollen wir dich prüfen...", "zh_TW": "...尋找試煉，接受試煉...<<A<<[CHANGED 2018/05/01]" }, "entity": { "global": true, "name": "bug" }, "posType": "TOP", "offset": { "x": 0, "y": 0 }, "type": "SHOW_DREAM_MSG" }, { "entity": { "global": true, "name": "bug" }, "group": "light", "type": "CLEAR_EFFECTS" }, { "entity": { "global": true, "name": "bug" }, "action": [ { "face": "WEST", "rotate": true, "rotateSpeed": 3, "type": "SET_FACE" } ], "repeating": false, "wait": false, "keepState": false, "immediately": false, "type": "DO_ACTION" }, { "entity": { "player": true }, "action": [ { "type": "WAIT", "time": 0.1 }, { "face": "WEST", "rotate": true, "rotateSpeed": 3, "type": "SET_FACE" } ], "repeating": false, "wait": false, "keepState": false, "immediately": false, "type": "DO_ACTION" }, { "pos": { "x": 364, "y": 1756 }, "speed": "NORMAL", "transition": "EASE_IN_OUT", "wait": true, "waitSkip": 0, "zoom": 1, "type": "SET_CAMERA_POS" }, { "changeType": "set", "type": "CHANGE_VAR_BOOL", "varName": "tmp.spawnBug", "value": true }, { "changeType": "set", "type": "CHANGE_VAR_BOOL", "varName": "tmp.barriers", "value": true }, { "entity": { "global": true, "name": "catchBug" }, "action": [ { "face": "EAST", "rotate": false, "rotateSpeed": 3, "type": "SET_FACE" } ], "repeating": false, "wait": false, "keepState": false, "immediately": false, "type": "DO_ACTION" }, { "ignoreSlowDown": false, "type": "WAIT", "time": 1 }, { "entity": { "global": true, "name": "bug" }, "action": [ { "entity": { "player": true }, "rotate": true, "rotateSpeed": 3, "type": "SET_FACE_TO_ENTITY" } ], "repeating": false, "wait": false, "keepState": false, "immediately": false, "type": "DO_ACTION" }, { "entity": { "player": true }, "action": [ { "type": "WAIT", "time": 0.1 }, { "entity": { "global": true, "name": "bug" }, "rotate": true, "rotateSpeed": 3, "type": "SET_FACE_TO_ENTITY" } ], "repeating": false, "wait": false, "keepState": false, "immediately": false, "type": "DO_ACTION" }, { "speed": "FAST", "transition": "EASE_IN_OUT", "wait": true, "waitSkip": 0, "type": "RESET_CAMERA" }, { "entity": { "global": true, "name": "bug" }, "duration": -1, "align": "CENTER", "group": "light", "wait": false, "waitSkip": 0, "type": "SHOW_EFFECT", "effect": { "sheet": "npc", "name": "darken" }, "offset": { "x": 0, "y": 0, "z": 0 } }, { "type": "OPEN_QUEST_DIALOG", "quest": "bug-hunting-wave", "npc": "", "accepted": [ { "text": { "en_US": "...Perception is a skill few can master...", "langUid": 6, "ja_JP": "...知覚する力を使いこなすものは少ない...<<A<<[CHANGED 2018/05/01]", "ko_KR": "...인지라는 기술을 숙달할 수 있는 건 오직 소수뿐입니다...<<A<<[CHANGED 2018/05/01]", "zh_CN": "...明晰战况，易学难精...<<A<<[CHANGED 2018/05/01]", "de_DE": "... Wahrnehmung ist eine Fähigkeit, die nur wenige beherrschen...", "zh_TW": "...明晰戰況，易學難精...<<A<<[CHANGED 2018/05/01]" }, "entity": { "global": true, "name": "bug" }, "posType": "TOP", "offset": { "x": 0, "y": 0 }, "type": "SHOW_DREAM_MSG" }, { "text": { "en_US": "...This trial will test your awareness and wit...", "langUid": 7, "ja_JP": "...この試練はお前の知覚と機知を試すものだ...<<A<<[CHANGED 2018/05/01]", "ko_KR": "...이 시험은 당신의 자각과 기지를 시험할 것입니다...<<A<<[CHANGED 2018/05/01]", "zh_CN": "...此试炼将测试你的感知和智慧...<<A<<[CHANGED 2018/05/01]", "de_DE": "... Diese Prüfung testet deine Achtsamkeit und Scharfsinnigkeit...", "zh_TW": "...此試煉將測試你的感知和智慧...<<A<<[CHANGED 2018/05/01]" }, "entity": { "global": true, "name": "bug" }, "posType": "TOP", "offset": { "x": 0, "y": 0 }, "type": "SHOW_DREAM_MSG" }, { "text": { "en_US": "...Catch the golden bug in the thicket \\c[3]6 times\\c[0]...", "langUid": 8, "ja_JP": "...竹やぶの中に隠れた黄金の虫を\\c[3]6回\\c[0]捕まえてみろ...<<A<<[CHANGED 2018/05/01]", "ko_KR": "...군락 속의 황금 벌레를 \\c[3]6번\\c[0] 잡으십시오...<<A<<[CHANGED 2018/05/01]", "zh_CN": "...在丛林中抓住金甲虫\\c[3]6次\\c[0]...<<A<<[CHANGED 2018/05/01]", "de_DE": "... Fange den Goldenen Käfer im Dickicht \\c[3]sechs Mal\\c[0]...", "zh_TW": "...在叢林中抓住金甲蟲\\c[3]6次\\c[0]...<<A<<[CHANGED 2018/05/01]" }, "entity": { "global": true, "name": "bug" }, "posType": "TOP", "offset": { "x": 0, "y": 0 }, "type": "SHOW_DREAM_MSG" }, { "text": { "en_US": "...But do so quickly, or else the trial is failed...", "langUid": 9, "ja_JP": "...だが急ぐことだ。さもなくば試練は失敗となる...<<A<<[CHANGED 2018/09/19]", "ko_KR": "...빨리 하지 않으면 시험에 실패합니다...<<A<<[CHANGED 2018/09/19]", "zh_CN": "...但动作要快，否则试炼将会失败...<<A<<[CHANGED 2018/09/19]", "de_DE": "... Doch tue es geschwind, oder du wirst scheitern...", "zh_TW": "...但動作要快，否則試煉將會失敗...<<A<<[CHANGED 2018/09/19]" }, "entity": { "global": true, "name": "bug" }, "posType": "TOP", "offset": { "x": 0, "y": 0 }, "type": "SHOW_DREAM_MSG" }, { "text": { "en_US": "...Speak to me again if you wish to begin the trial...", "langUid": 10, "ja_JP": "...試練を始めたければ、もう一度私に話しかけろ...<<A<<[CHANGED 2018/05/01]", "ko_KR": "...시험을 시작하고 싶거나 취소하고 싶으면...<<A<<[CHANGED 2018/05/01]", "zh_CN": "...如果你想要开始试炼，就跟我说...<<A<<[CHANGED 2018/05/01]", "de_DE": "... Sprich erneut mit mir, wenn du die Prüfung zu beginnen wünschst...", "zh_TW": "...如果你想要開始試煉，就跟我說...<<A<<[CHANGED 2018/05/01]" }, "entity": { "global": true, "name": "bug" }, "posType": "TOP", "offset": { "x": 0, "y": 0 }, "type": "SHOW_DREAM_MSG" }, { "text": { "en_US": "...Or cancel it...", "langUid": 11, "ja_JP": "...やめたいときも、私に話しかけろ...<<A<<[CHANGED 2018/05/01]", "ko_KR": "...다시 말씀해 주십시오...<<A<<[CHANGED 2018/05/01]", "zh_CN": "...如果你想退出，也可以来找我...<<A<<[CHANGED 2018/05/01]", "de_DE": "... Oder abzubrechen...", "zh_TW": "...如果你想退出，也可以來找我...<<A<<[CHANGED 2018/05/01]" }, "entity": { "global": true, "name": "bug" }, "posType": "TOP", "offset": { "x": 0, "y": 0 }, "type": "SHOW_DREAM_MSG" }, { "entity": { "global": true, "name": "bug" }, "group": "light", "type": "CLEAR_EFFECTS" }, { "value": "SAVE", "type": "SET_MOBILITY_BLOCK" }, { "changeType": "set", "type": "CHANGE_VAR_BOOL", "varName": "map.bugTalk", "value": true }, { "type": "IF", "withElse": false, "condition": "party.has.Emilie", "thenStep": [ { "message": { "en_US": "Nooooooooo...\\. Don't make me chase the bug.\\. Not inside the bamboo maze.\\. It could hide ANYWHERE!", "langUid": 510, "zh_CN": "不.....\\.别让我抓虫子啊。\\.还是在竹林迷宫里。\\.这玩意儿可能躲在任何地方！<<A<<[CHANGED 2020/07/08]", "ja_JP": "いやああぁぁぁ...\\.\n虫を追いかけるなんてやだよ。\\.\nそれもこんな竹やぶの迷路の中で。\\.\nどこに潜んでるかわからないじゃない！<<A<<[CHANGED 2020/07/08]", "ko_KR": "안 돼애애애애...\\. 난 벌레를 쫓아가고 싶지 않아.\\. 그것도 대나무 미로 안에서.\\. 어디에 숨을지 모른다고!<<A<<[CHANGED 2020/07/08]", "de_DE": "Neiiiiiiiin...\\. Zwingt mich nicht, den Käfer zu jagen.\\. Nicht in einem Bambuslabyrinth.\\. Der könnte sich ja ÜBERALL verstecken!", "zh_TW": "不.....\\.別讓我抓蟲子啊。\\.還是在竹林迷宮裡。\\.這東西可能躲在任何地方！<<A<<[CHANGED 2020/07/09]" }, "type": "SHOW_SIDE_MSG", "person": { "person": "main.emilie", "expression": "BROKEN" } } ] } ], "declined": [ { "value": "NONE", "type": "SET_MOBILITY_BLOCK" }, { "text": { "en_US": "...If that is your choice...", "langUid": 29, "ja_JP": "...それがお前の望みというなら...<<A<<[CHANGED 2018/05/01]", "ko_KR": "...그게 당신의 선택이라면...<<A<<[CHANGED 2018/05/01]", "zh_CN": "...如果你确定的话...<<A<<[CHANGED 2018/05/01]", "de_DE": "... Wenn dies dein Wunsch ist...", "zh_TW": "...如果你確定的話...<<A<<[CHANGED 2018/05/01]" }, "entity": { "global": true, "name": "bug" }, "posType": "TOP", "offset": { "x": 0, "y": 0 }, "type": "SHOW_DREAM_MSG" }, { "entity": { "global": true, "name": "bug" }, "group": "light", "type": "CLEAR_EFFECTS" }, { "entity": { "global": true, "name": "catchBug" }, "duration": 0, "align": "BOTTOM", "group": "", "wait": true, "waitSkip": 0, "type": "SHOW_EFFECT", "effect": { "sheet": "teleport", "name": "hideQuick" }, "offset": { "x": 0, "y": 0, "z": 0 } }, { "changeType": "set", "type": "CHANGE_VAR_BOOL", "varName": "tmp.spawnBug", "value": false }, { "changeType": "set", "type": "CHANGE_VAR_BOOL", "varName": "tmp.barriers", "value": false }, { "entity": { "global": true, "name": "catchBug" }, "position": { "x": 364, "y": 1752, "lvl": "1" }, "type": "SET_ENTITY_POS" } ] } ] } }
    },
    {
        "type": "ENTER",
        "index": 5
    },
    {
        "_comment": "Don't disappear bug on trial finish",
        "type": "SET_KEY",
        "index": "condition",
        "content": "false"
    },
    {
        "type": "EXIT",
        "count": 4
    },
    { "type": "EXIT", "count": 1 }
]